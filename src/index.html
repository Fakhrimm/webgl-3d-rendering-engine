<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="./style.css" />
        <title>3D Engine</title>
    </head>

    <body>
        <div class="flex flex-col h-screen">
            <!-- Header -->
            <header
                class="w-full px-10 py-1 border-b border-gray-700 text-gray-300"
            >
                <div class="grid grid-cols-3 items-center">
                    <!-- Left side empty space -->
                    <div></div>

                    <!-- Title -->
                    <h1
                        class="text-2xl font-bold text-center py-4 col-span-1 text-gray-100"
                    >
                        3D Engine
                    </h1>

                    <!-- Controls -->
                    <div class="flex justify-end col-span-1 gap-2">
                        <!-- Load button -->
                        <label
                            for="loadFile"
                            class="flex flex-col items-center gap-2 px-4 py-2.5 bg-gray-800 border border-gray-700 text-xs font-bold rounded-lg hover:bg-blue-600 active:bg-blue-700 cursor-pointer"
                        >
                            <i data-lucide="file-up"></i>
                            <span>Load</span>
                        </label>
                        <input
                            class="hidden"
                            type="file"
                            accept=".json"
                            id="loadFile"
                            name="filename"
                        />

                        <!-- Save button -->
                        <button
                            id="saveFile"
                            class="flex flex-col items-center gap-2 px-4 py-2.5 bg-gray-800 border border-gray-700 text-xs font-bold rounded-lg hover:bg-green-600 active:bg-green-700"
                        >
                            <i data-lucide="save"></i>
                            <span>Save</span>
                        </button>

                        <!-- Help button -->
                        <button
                            id="help"
                            class="flex flex-col items-center gap-2 px-4 py-2.5 bg-gray-800 border border-gray-700 text-xs font-bold rounded-lg hover:bg-purple-600 active:bg-purple-700"
                        >
                            <i data-lucide="circle-help"></i>
                            <span>Help</span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Container: Sidebar & Canvas-->
            <div class="h-full flex w-screen overflow-hidden">
                <!-- Sidebar -->
                <div class="border-r border-gray-600 w-3/12 overflow-auto">
                    <!-- Choosen Object -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-4 border-b border-gray-600 text-gray-200 w-full"
                    >
                        <div class="flex items-center">
                            <label
                                for="model"
                                class="block text-xl font-bold text-gray-200 w-5/12"
                            >
                                Model
                            </label>
                            <select
                                id="model"
                                class="border text-sm font-semibold rounded-lg w-7/12 p-3 bg-gray-800 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"
                            >
                                <option value="value1">value1</option>
                                <option value="value2">value2</option>
                                <option value="value3">value3</option>
                            </select>
                        </div>
                    </div>
                    <!-- Component Tree -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-4 border-b border-gray-600 text-gray-200 w-full"
                    >
                        <h1 class="text-xl font-bold">Component Tree</h1>
                        <div id="componentTree" class="overflow-y-auto"></div>
                    </div>

                    <!-- Camera Angle -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-600 text-gray-200 w-full"
                    >
                        <h1 class="text-xl font-bold">Camera Angle</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex flex-row">
                                <input
                                    class="w-full"
                                    type="range"
                                    id="camera"
                                    name="camera"
                                    min="-3.3"
                                    max="3.3"
                                    step="0.05"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- Other Tools -->
                    <div
                        class="flex pl-4 pr-6 py-2 gap-1 border-b border-gray-600 text-gray-200 w-full"
                    >
                        <!-- Zoom -->
                        <div class="flex flex-col gap-2 text-white w-1/2">
                            <h1 class="text-xl font-bold">Change Cam Radius</h1>
                            <div class="flex gap-3">
                                <button
                                    id="zoomIn"
                                    class="w-1/3 flex flex-col items-center py-1 bg-gray-800 border border-gray-600 text-xs font-bold rounded-lg active:bg-violet-500"
                                >
                                    <i data-lucide="circle-plus"></i>
                                </button>
                                <button
                                    id="zoomOut"
                                    class="w-1/3 flex flex-col items-center py-1 bg-gray-800 border border-gray-600 text-xs font-bold rounded-lg active:bg-violet-500"
                                >
                                    <i data-lucide="circle-minus"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Shader & Reset -->
                        <div class="flex flex-col gap-2 text-white w-1/2">
                            <div class="flex items-center">
                                <label class="text-xl font-semibold mr-5"
                                    >Shading</label
                                >
                                <input id="shader" type="checkbox" />
                            </div>
                            <button
                                id="reset"
                                class="w-9/12 flex flex-col items-center py-1.5 bg-red-500 border border-gray-600 text-sm font-bold rounded-lg hover:bg-red-600 active:bg-red-700"
                            >
                                Reset
                            </button>
                        </div>
                    </div>
                    <!-- Projection -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-600 text-gray-200 w-full"
                    >
                        <h1 class="text-xl font-bold">Projection</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex gap-10">
                                <button
                                    id="orthographic"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Orthographic
                                </button>
                                <button
                                    id="perspective"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Perspective
                                </button>
                            </div>
                            <div class="flex flex-row">
                                <div class="w-1/4"></div>
                                <button
                                    id="oblique"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Oblique
                                </button>
                                <div class="w-1/4"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Canvas -->
                <div class="flex flex-col w-6/12 bg-gray-700">
                    <canvas
                        id="canvas"
                        width="600"
                        height="600"
                        class="bg-white"
                    >
                        Oops ... your browser doesn't support the HTML5 canvas
                        element
                    </canvas>
                </div>

                <!-- Dynamic Sidebar -->
                <div class="border-r border-gray-600 w-3/12 overflow-auto">
                    <!-- Active Component -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Active Component :</h1>
                        <div
                            id="activeComponent"
                            class="w-full flex flex-col text-center items-center py-1 bg-green-600 border border-gray-600 text-xs font-bold rounded-lg overflow-hidden whitespace-nowrap truncate"
                        >
                            Please Select Node from Component Tree
                        </div>
                    </div>

                    <!-- Rotate -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Rotate</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >X - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="rotateX"
                                    name="rotate"
                                    min="-3.3"
                                    max="3.3"
                                    step="0.05"
                                />
                            </div>
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >Y - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="rotateY"
                                    name="rotate"
                                    min="-3.3"
                                    max="3.3"
                                    step="0.05"
                                />
                            </div>
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >Z - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="rotateZ"
                                    name="rotate"
                                    min="-3.3"
                                    max="3.3"
                                    step="0.05"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- Scale -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Scale</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >X - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="scaleX"
                                    name="scale"
                                    min="0.1"
                                    max="5"
                                    step="0.05"
                                />
                            </div>
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >Y - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="scaleY"
                                    name="scale"
                                    min="0.1"
                                    max="5"
                                    step="0.05"
                                />
                            </div>
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >Z - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="scaleZ"
                                    name="scale"
                                    min="0.1"
                                    max="5"
                                    step="0.05"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- Translate -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Translate</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >X - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="translateX"
                                    name="translate"
                                    min="0.1"
                                    max="5"
                                    step="0.05"
                                />
                            </div>
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >Y - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="translateY"
                                    name="translate"
                                    min="0.1"
                                    max="5"
                                    step="0.05"
                                />
                            </div>
                            <div class="flex flex-row">
                                <label class="text-sm font-semibold w-2/12"
                                    >Z - axis</label
                                >
                                <input
                                    class="w-10/12"
                                    type="range"
                                    id="translateZ"
                                    name="translate"
                                    min="0.1"
                                    max="5"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- Texture -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Texture</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex gap-3">
                                <button
                                    id="bump"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Bump
                                </button>
                                <button
                                    id="environment"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Image
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button
                                    id="reflective"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Reflective
                                </button>
                                <button
                                    id="none"
                                    class="w-1/2 flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    None
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Animation -->
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Animation</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex gap-2">
                                <button
                                    id="play"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Play
                                </button>
                                <button
                                    id="pause"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Pause
                                </button>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    id="reverse"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Reverse
                                </button>
                                <button
                                    id="autoPlay"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Auto Replay
                                </button>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    id="next"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Next
                                </button>
                                <button
                                    id="prev"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Prev
                                </button>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    id="first"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    First
                                </button>
                                <button
                                    id="last"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Last
                                </button>
                            </div>
                        </div>
                    </div>
                    <div
                        class="flex flex-col pl-4 pr-6 py-2 gap-1 border-b border-gray-500 text-white w-full"
                    >
                        <h1 class="text-xl font-bold">Frame Controller</h1>
                        <div class="flex flex-col gap-2">
                            <div class="flex gap-2">
                                <button
                                    id="saveFrame"
                                    class="w-full flex flex-col items-center py-1.5 bg-gray-800 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Save as Frame
                                </button>
                                <button
                                    id="deleteFrame"
                                    class="w-full flex flex-col items-center py-1.5 bg-red-500 border border-gray-600 text-sm font-bold rounded-lg active:bg-violet-500"
                                >
                                    Delete Frame
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            id="modalContainer"
            class="modalContainer fixed top-0 left-0 w-full h-full hidden"
        >
            <div
                id="modalBackdrop"
                class="modalBackdrop fixed top-0 left-0 w-full h-full bg-black opacity-50 z-20"
            ></div>
            <div
                id="modalContent"
                class="modalContent fixed top-1/2 left-1/2 text-black -translate-x-1/2 -translate-y-1/2 bg-white z-30 p-[2vw] rounded-[0.5vw] flex flex-col max-h-[80%] animate-bounceInDown"
            >
                <div
                    id="modalHeader"
                    class="flex justify-center items-center text-center text-xl font-bold gap-[1vw] mb-[1vw]"
                >
                    <h1 class="text-5xl" id="modalTitle">Help Instructions</h1>
                </div>
                <div id="modalBody" class="overflow-y-auto">
                    <h1 class="text-2xl font-bold pt-8">Save and Load</h1>
                    <p>
                        Use the 'Save' button at the top right to store your
                        model. Click the 'Load' button to select and load a
                        model file.
                    </p>

                    <h1 class="text-2xl font-bold pt-8">Component Tree</h1>
                    <p>
                        Select a component on the left panel to modify it as
                        needed.
                    </p>

                    <h1 class="text-2xl font-bold pt-8">Projection</h1>
                    <p>
                        Switch projections by clicking 'Orthographic',
                        'Oblique', or 'Perspective'. The default projection is
                        'Orthographic'.
                    </p>

                    <h1 class="text-2xl font-bold pt-8">Shading</h1>
                    <p>
                        Toggle shading using the checkbox located in the middle
                        left sidebar.
                    </p>

                    <h1 class="text-2xl font-bold pt-8">Camera</h1>
                    <p>
                        Adjust the camera angle using the slider. Use the zoom
                        in and zoom out buttons to change the camera radius.
                    </p>

                    <h1 class="text-2xl font-bold pt-8">Animation</h1>
                    <h2 class="text-lg font-semibold pt-4">
                        Animation Control
                    </h2>
                    <p>Control animations from the 'Animation' section.</p>

                    <h2 class="text-lg font-semibold pt-4">Frame Controller</h2>
                    <p>Manage frames in the 'Frame Controller' section.</p>

                    <h1 class="text-2xl font-bold pt-8">Reset</h1>
                    <p>
                        Click the 'Reset' button to revert the model to its
                        initial state.
                    </p>

                    <h1 class="text-2xl font-bold pt-8">Transformation</h1>
                    <h2 class="text-lg font-semibold pt-4">Translation</h2>
                    <p>
                        Use the translation buttons to move the object along the
                        X, Y, and Z axes.
                    </p>

                    <h2 class="text-lg font-semibold pt-4">Rotation</h2>
                    <p>
                        Rotate the object along the X, Y, and Z axes using the
                        rotation controls.
                    </p>

                    <h2 class="text-lg font-semibold pt-4">Scaling</h2>
                    <p>
                        Adjust the scale of the object along the X, Y, and Z
                        axes using the scaling sliders.
                    </p>
                </div>
            </div>
        </div>

        <script>
            document
                .getElementById("help")
                .addEventListener("click", function () {
                    const modal = document.getElementById("modalContainer");
                    modal.classList.remove("hidden");
                    modal.classList.add("scale-100");
                });

            document
                .getElementById("modalBackdrop")
                .addEventListener("click", function () {
                    const modal = document.getElementById("modalContainer");
                    modal.classList.add("hidden");
                    modal.classList.remove("scale-100");
                });
        </script>

        <script src="https://unpkg.com/lucide@latest"></script>
        <script>
            lucide.createIcons();
        </script>
        <script type="module" src="/main.ts"></script>
    </body>
</html>
